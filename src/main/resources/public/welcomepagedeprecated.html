<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body class="content">
<div>
    <h1>DEPRECATED JS CODE</h1>
    <h1>Welcome to XYZ Bank!</h1>
    <h2>You are now our favourite client</h2>
    <div>
        <h5>Your clientID is: </h5>
        <p class="clientId"></p>
        <p id="p"></p><br><br>
        <form>
            <input type="button" value="Create new account for me please" id="createaccountbutton">
        </form>
    </div>
    <br><br>
</div>
</body>
<script>

    // 1 - GET  BALANCE FOR ONE ACCOUNT > add into table
    let balanceButton = document.getElementById("getBalanceButton");
    balanceButton.onclick = function () {
        let accNo = document.getElementById("accountNo").value;
        fetch('http://localhost:8080/account/' + accNo)
            .then(result => result.json())
            .then(
                function (balances) {
                    // console.log(balances);

                    // ADD INTO TABLE
                    // let balancesTable = document.getElementById("balancesTable");
                    // let newRow = document.createElement("tr");
                    // let newCell = document.createElement("td");
                    // newRow.append(newCell);
                    // balancesTable.append(newRow);

                    // ADD INTO PARAGRAPH - 1
                    // let newElement = document.createElement("ol");
                    // newElement.innerHTML = balances;
                    // p.append(balances);

                    // ADD INTO PARAGRAPH - 2
                    p.append(balances);

                }
            )
    }



    // 2 - GET ACCOUNT LIST - DEPRECATED
    // fetch('http://localhost:8080/accountslist')
    //     .then(result => result.json())
    //     .then(
    //         function (accountslist) {
    //             // console.log(accountslist);
    //             let table = document.getElementById("siiriTable");
    //             for (let i = 0; i < accountslist.length; i++) {
    //                 let newRow = document.createElement("tr");
    //                 let newCell1 = document.createElement("td");
    //                 newCell1.innerText = accountslist[i].id;
    //                 newRow.append(newCell1);
    //                 let newCell2 = document.createElement("td");
    //                 newCell2.innerText = accountslist[i].accNo;
    //                 newRow.append(newCell2);
    //                 let newCell3 = document.createElement("td");
    //                 newCell3.innerText = accountslist[i].balance;
    //                 newRow.append(newCell3);
    //                 let newCell4 = document.createElement("td");
    //                 newCell4.innerText = accountslist[i].clientId;
    //                 newRow.append(newCell4);
    //                 table.append(newRow);
    //
    //                 console.log(accountslist[i]);
    //                 // console.log(table[i]);
    //
    //             }
    //         }
    //     );

    // 3 - GET ALL BALANCES - DEPRECATED
    // let balanceButton = document.getElementById("getBalanceButton");
    // balanceButton.onclick = function (){
    //     // fetch('http://localhost:8080/account/{accNo}'){
    //     fetch('http://localhost:8080/balances')
    //         .then(result => result.json())
    //         .then(
    //             function (balances){
    //                 let table2 = document.getElementById("balancesTable");
    //                 // let balance = document.getElementById("p");
    //                 for (let i = 0; i < balances.length; i++) {
    //                     let newRow = document.createElement("tr");
    //                     let newCell1 = document.createElement("td");
    //                     newCell1.innerText = balances[i];
    //                     newRow.append(newCell1);
    //                     table2.append(newRow);
    //                     console.log(balances[i]);
    //                 }
    //
    //             }
    //         )
    // };


    // 4 - GET ACCOUNTS FOR THIS CLIENT
    // NETIST KOOD MIS VÕTAB URLILT query parameter id = väärtuse
    // function get(name){
    //     if(name=(new RegExp('[?&]'+encodeURIComponent(name)+'=([^&]*)')).exec(location.search))
    //         return decodeURIComponent(name[1]);
    // }
    // let clientId = get("id");
    //
    // // fetch('http://localhost:8080/accountsforclient/' + 2)
    // fetch('http://localhost:8080/accountsforclient/' + clientId)
    //     .then(result => result.json())
    //     .then(
    //         function (accounts) {
    //             console.log(accounts);
    //             let accountsTable = document.getElementById("siiriTable");
    //
    //             // p.append(accounts);
    //             for (let i = 0; i < accounts.length; i++) {
    //                 let newRow = document.createElement("tr");
    //                 let newCell1 = document.createElement("td");
    //                 newCell1.innerText = accounts[i].id;
    //                 newRow.append(newCell1);
    //                 let newCell2 = document.createElement("td");
    //                 newCell2.innerText = accounts[i].accNo;
    //                 newRow.append(newCell2);
    //                 let newCell3 = document.createElement("td");
    //                 newCell3.innerText = accounts[i].balance;
    //                 newRow.append(newCell3);
    //                 let newCell4 = document.createElement("td");
    //                 newCell4.innerText = accounts[i].clientId;
    //                 newRow.append(newCell4);
    //                 accountsTable.append(newRow);

                    // ADD INTO TABLE
                    // let balancesTable = document.getElementById("balancesTable");
                    // let newRow = document.createElement("tr");
                    // let newCell = document.createElement("td");
                    // newRow.append(newCell);
                    // balancesTable.append(newRow);

                    // ADD INTO PARAGRAPH - 1
                    // let newElement = document.createElement("ol");
                    // newElement.innerHTML = balances;
                    // p.append(balances);

                    // ADD INTO PARAGRAPH - 2

        //         }
        //     }
        // );


</script>


</html>